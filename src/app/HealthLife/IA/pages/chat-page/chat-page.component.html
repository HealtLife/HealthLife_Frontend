<mat-card class="chat-card">
  <div class="app-toolbar chat-header">
    <span class="chat-emoji">ğŸ¤–</span>
    <span class="chat-title">Chatea con nuestra IA</span>
  </div>

  <mat-divider></mat-divider>

  <div class="container-two-columns">
    <!-- COLUMNA IZQUIERDA: GuÃ­as y ejemplos de prompt -->
    <aside class="sidebar">
      <h3>ğŸ“ GuÃ­as y Ejemplos de Prompt</h3>

      <!-- Seguridad -->
      <section class="guide-section">
        <h4>ğŸ”’ Seguridad</h4>
        <p>Las conversaciones son <strong>temporales</strong>. Al cambiar de pÃ¡gina se borrarÃ¡n.</p>
      </section>
      <!-- Prompt para Dieta -->
      <section class="guide-section">
        <h4>ğŸ Prompt de Dieta</h4>
        <p>Usuario: <code>Quiero bajar de peso</code></p>
        <p><strong>IA:</strong> â€œÂ¿CuÃ¡l es tu peso actual, tu estatura y en cuÃ¡nto tiempo quieres alcanzar tu objetivo?â€</p>
        <p>Al responder, la IA generarÃ¡ un borrador de mensaje para tu nutricionista con toda la informaciÃ³n.</p>
      </section>

      <!-- Prompt para Rutinas -->
      <section class="guide-section">
        <h4>ğŸ‹ï¸ Prompt de Rutinas</h4>
        <p>Usuario: <code>Dame una lista de rutinas para tonificar glÃºteos</code></p>
        <p><strong>IA:</strong> â€œÂ¿CuÃ¡ntas veces por semana puedes entrenar y cuÃ¡nto tiempo tienes por sesiÃ³n?â€</p>
        <p>Tras tu respuesta, la IA te entregarÃ¡ un plan paso a paso y un mensaje modelo para tu entrenador.</p>
      </section>

      <!-- ModeraciÃ³n -->
      <section class="guide-section">
        <h4>âš ï¸ ModeraciÃ³n y Ban</h4>
        <p>MÃ¡ximo 5 mensajes por sesiÃ³n. Si envÃ­as algo fuera de tema:</p>
        <ol>
          <li>Corte inmediato de comunicaciÃ³n.</li>
          <li>Ban de 30 s.</li>
          <li>Ban de 1 h.</li>
          <li>Ban de 1 dÃ­a.</li>
          <li>Contacto a soporte de healthlife<a href="mailto:soporte@healthlife"></a>.</li>
        </ol>
      </section>


    </aside>

    <!-- COLUMNA DERECHA: Chat -->
    <div class="chat-column">
      <!-- Banner de lÃ­mite de mensajes -->
      <div class="limit-banner">
        âš ï¸ LÃ­mite de 5 mensajes por sesiÃ³n
      </div>

      <mat-list #messageList class="message-list">
        <mat-list-item *ngFor="let msg of messages">
          <div [ngClass]="{ 'user': msg.author === 'user', 'bot': msg.author === 'bot' }">
            <mat-icon class="avatar">
              {{ msg.author === 'user' ? 'person' : 'smart_toy' }}
            </mat-icon>
            <div class="bubble">{{ msg.text }}</div>
          </div>
        </mat-list-item>
      </mat-list>

      <div class="input-row">
        <mat-form-field class="input-field" appearance="outline">
          <input matInput
                 placeholder="Escribe tu mensajeâ€¦"
                 [formControl]="inputControl"
                 (keyup.enter)="send()" />
        </mat-form-field>
        <button mat-icon-button color="primary" (click)="send()">
          <mat-icon>send</mat-icon>
        </button>
      </div>
    </div>
  </div>
</mat-card>
